ğŸ” SoluÃ§Ã£o para VPN Sonepar - Auto-ReconexÃ£o

ğŸ“‹ Problema Identificado

A VPN da Sonepar (dtc.sonepar.com.br) estava apresentando quedas intermitentes durante o uso, causando interrupÃ§Ãµes no trabalho e necessidade de reconexÃ£o manual frequente.

âœ… SoluÃ§Ã£o Implementada

Foi criado um script Python que monitora a conexÃ£o VPN e reconecta automaticamente quando detecta desconexÃ£o.

Funcionalidades:

- ğŸ”„ Monitoramento contÃ­nuo: Verifica o status da VPN a cada 5 segundos
- ğŸ” Auto-reconexÃ£o: Reconecta automaticamente quando detecta queda
- ğŸ“Š Monitoramento de trÃ¡fego: Mostra estatÃ­sticas de entrada/saÃ­da em tempo real
- ğŸ” AutenticaÃ§Ã£o Azure AD: Integra com Azure CLI para autenticaÃ§Ã£o SAML
- ğŸŸ¢ Status visual: Indica claramente quando estÃ¡ conectada/desconectada

Como funciona:

1. O script verifica continuamente se a VPN estÃ¡ conectada
2. Se detectar desconexÃ£o, aguarda 10 segundos e tenta reconectar
3. Durante a conexÃ£o, abre o navegador automaticamente para autenticaÃ§Ã£o SAML
4. MantÃ©m a conexÃ£o ativa e monitora o status
5. Exibe estatÃ­sticas de trÃ¡fego em tempo real

Tecnologias utilizadas:

- Python 3 - Linguagem do script
- openfortivpn - Cliente VPN open-source para FortiClient SSL VPN
- Azure CLI - Para autenticaÃ§Ã£o Azure AD
- macOS nativo - IntegraÃ§Ã£o com sistema operacional

Arquivos criados:

- vpn_menu.py - Script principal de auto-reconexÃ£o
- connect_vpn.py - Script de conexÃ£o Ã  VPN
- monitor_vpn.py - Painel de monitoramento de trÃ¡fego

Exemplo de uso:

python3 vpn_menu.py

O script inicia automaticamente e fica monitorando. Quando detecta queda, reconecta sozinho.

EvidÃªncia de funcionamento:

- âœ… Detecta desconexÃµes automaticamente
- âœ… Reconecta sem intervenÃ§Ã£o manual
- âœ… MantÃ©m conexÃ£o estÃ¡vel
- âœ… Mostra estatÃ­sticas de trÃ¡fego em tempo real

---

ObservaÃ§Ãµes:

- Esta soluÃ§Ã£o foi criada apenas para meu uso pessoal para mitigar as quedas intermitentes da VPN.

- NÃƒO Ã© uma soluÃ§Ã£o oficial da empresa.

- Se alguÃ©m quiser usar, ficarei feliz em compartilhar o cÃ³digo e ajudar na implementaÃ§Ã£o.

